<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="520px" preserveAspectRatio="none" style="width:2971px;height:520px;" version="1.1" viewBox="0 0 2971 520" width="2971px" zoomAndPan="magnify"><defs><filter height="300%" id="f1q790ibzuqdz7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[c27d767109b3913d4718b358a17ad24a]
cluster internal--><polygon fill="#FFFFFF" filter="url(#f1q790ibzuqdz7)" points="1411,91.5,1471,91.5,1478,116.5679,1864,116.5679,1864,253.5,1411,253.5,1411,91.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1411" x2="1478" y1="116.5679" y2="116.5679"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1415" y="108.4659">internal</text><!--MD5=[66de46875e9ca6c2e5f1890fb81f9fe4]
cluster pkg.httpcontext--><polygon fill="#FFFFFF" filter="url(#f1q790ibzuqdz7)" points="1888,114,2008,114,2015,139.0679,2022,139.0679,2022,478,1888,478,1888,114" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1888" x2="2015" y1="139.0679" y2="139.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="1892" y="130.9659">pkg.httpcontext</text><!--MD5=[d90c695c32d4e95bb9451c21e63b0bfd]
cluster pkg.telemetry--><polygon fill="#FFFFFF" filter="url(#f1q790ibzuqdz7)" points="2046,76.5,2151,76.5,2158,101.5679,2258,101.5679,2258,268.5,2046,268.5,2046,76.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2046" x2="2158" y1="101.5679" y2="101.5679"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="2050" y="93.4659">pkg.telemetry</text><!--MD5=[d841c4c2f84d4e18d352f800547f43fc]
cluster platform--><polygon fill="#FFFFFF" filter="url(#f1q790ibzuqdz7)" points="22,31.5,89,31.5,96,56.5679,1387,56.5679,1387,508,22,508,22,31.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="96" y1="56.5679" y2="56.5679"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="26" y="48.4659">platform</text><!--MD5=[e3a89b72019d8d69b73b0a9ebb84eda6]
cluster cli--><polygon fill="#FFFFFF" filter="url(#f1q790ibzuqdz7)" points="2282,24,2303,24,2310,49.0679,2949,49.0679,2949,478,2282,478,2282,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2282" x2="2310" y1="49.0679" y2="49.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="2286" y="40.9659">cli</text><!--MD5=[98c17e746b1aec6ba8c0d376f06b2a22]
class internal.DatabaseOption--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="92.9457" id="internal.DatabaseOption" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1706.5" y="137"/><ellipse cx="1729.6" cy="153" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1732.5688,158.6406 Q1731.9906,158.9375 1731.35,159.0781 Q1730.7094,159.2344 1730.0063,159.2344 Q1727.5063,159.2344 1726.1781,157.5938 Q1724.8656,155.9375 1724.8656,152.8125 Q1724.8656,149.6875 1726.1781,148.0313 Q1727.5063,146.375 1730.0063,146.375 Q1730.7094,146.375 1731.35,146.5313 Q1732.0063,146.6875 1732.5688,146.9844 L1732.5688,149.7031 Q1731.9438,149.125 1731.35,148.8594 Q1730.7563,148.5781 1730.1313,148.5781 Q1728.7875,148.5781 1728.1,149.6563 Q1727.4125,150.7188 1727.4125,152.8125 Q1727.4125,154.9063 1728.1,155.9844 Q1728.7875,157.0469 1730.1313,157.0469 Q1730.7563,157.0469 1731.35,156.7813 Q1731.9438,156.5 1732.5688,155.9219 L1732.5688,158.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="1745.4" y="157.656">DatabaseOption</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1707.5" x2="1846.5" y1="169" y2="169"/><ellipse cx="1717.5" cy="180" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="1726.5" y="184.7589">MaxOpenConns: int</text><ellipse cx="1717.5" cy="194.9819" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1726.5" y="199.7408">MaxIdleConns: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1707.5" x2="1846.5" y1="206.9638" y2="206.9638"/><ellipse cx="1717.5" cy="217.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1726.5" y="222.7227">Apply (client *sqlx.DB)</text><!--MD5=[81606ba0f826459e1b602f9ff0101a6f]
class internal.DatabaseProvider--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="107.9276" id="internal.DatabaseProvider" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="1427" y="129.5"/><ellipse cx="1496.25" cy="145.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1492.1719,141.2656 L1492.1719,139.1094 L1499.5625,139.1094 L1499.5625,141.2656 L1497.0938,141.2656 L1497.0938,149.3438 L1499.5625,149.3438 L1499.5625,151.5 L1492.1719,151.5 L1492.1719,149.3438 L1494.6406,149.3438 L1494.6406,141.2656 L1492.1719,141.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="97" x="1516.75" y="150.156">DatabaseProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1428" x2="1670" y1="161.5" y2="161.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1435" y="169.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1447" y="177.2589">mu: sync.Mutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1435" y="184.4819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1447" y="192.2408">cache: map[string]*sqlx.DB</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1435" y="199.4638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="1447" y="207.2227">credentials: map[string]string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1428" x2="1670" y1="214.4457" y2="214.4457"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1435" y="222.4457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1447" y="230.2046">open: func(string, string) (*sqlx.DB, error)</text><!--MD5=[de03c539a5891f1233edfc307f400ecf]
class pkg.httpcontext.Value[T any]--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="62.9819" id="pkg.httpcontext.Value[T any]" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1904.5" y="152"/><ellipse cx="1919.5" cy="168" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1922.4688,173.6406 Q1921.8906,173.9375 1921.25,174.0781 Q1920.6094,174.2344 1919.9063,174.2344 Q1917.4063,174.2344 1916.0781,172.5938 Q1914.7656,170.9375 1914.7656,167.8125 Q1914.7656,164.6875 1916.0781,163.0313 Q1917.4063,161.375 1919.9063,161.375 Q1920.6094,161.375 1921.25,161.5313 Q1921.9063,161.6875 1922.4688,161.9844 L1922.4688,164.7031 Q1921.8438,164.125 1921.25,163.8594 Q1920.6563,163.5781 1920.0313,163.5781 Q1918.6875,163.5781 1918,164.6563 Q1917.3125,165.7188 1917.3125,167.8125 Q1917.3125,169.9063 1918,170.9844 Q1918.6875,172.0469 1920.0313,172.0469 Q1920.6563,172.0469 1921.25,171.7813 Q1921.8438,171.5 1922.4688,170.9219 L1922.4688,173.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="1933.5" y="172.656">Value[T any]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1905.5" x2="2004.5" y1="184" y2="184"/><ellipse cx="1915.5" cy="195" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="1924.5" y="199.7589">Key: any</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1905.5" x2="2004.5" y1="206.9819" y2="206.9819"/><!--MD5=[94413c9a958ede3aa383f4bf6cbf7c55]
class pkg.httpcontext.any--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="48" id="pkg.httpcontext.any" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="1929" y="414"/><ellipse cx="1944" cy="430" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1946.9688,435.6406 Q1946.3906,435.9375 1945.75,436.0781 Q1945.1094,436.2344 1944.4063,436.2344 Q1941.9063,436.2344 1940.5781,434.5938 Q1939.2656,432.9375 1939.2656,429.8125 Q1939.2656,426.6875 1940.5781,425.0313 Q1941.9063,423.375 1944.4063,423.375 Q1945.1094,423.375 1945.75,423.5313 Q1946.4063,423.6875 1946.9688,423.9844 L1946.9688,426.7031 Q1946.3438,426.125 1945.75,425.8594 Q1945.1563,425.5781 1944.5313,425.5781 Q1943.1875,425.5781 1942.5,426.6563 Q1941.8125,427.7188 1941.8125,429.8125 Q1941.8125,431.9063 1942.5,432.9844 Q1943.1875,434.0469 1944.5313,434.0469 Q1945.1563,434.0469 1945.75,433.7813 Q1946.3438,433.5 1946.9688,432.9219 L1946.9688,435.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="20" x="1958" y="434.656">any</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1930" x2="1980" y1="446" y2="446"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1930" x2="1980" y1="454" y2="454"/><!--MD5=[9f7baa3bd5ce22608ae8a8de3db087f1]
class pkg.telemetry.Monitor--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="137.8913" id="pkg.telemetry.Monitor" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="2062.5" y="114.5"/><ellipse cx="2125.75" cy="130.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2128.7188,136.1406 Q2128.1406,136.4375 2127.5,136.5781 Q2126.8594,136.7344 2126.1563,136.7344 Q2123.6563,136.7344 2122.3281,135.0938 Q2121.0156,133.4375 2121.0156,130.3125 Q2121.0156,127.1875 2122.3281,125.5313 Q2123.6563,123.875 2126.1563,123.875 Q2126.8594,123.875 2127.5,124.0313 Q2128.1563,124.1875 2128.7188,124.4844 L2128.7188,127.2031 Q2128.0938,126.625 2127.5,126.3594 Q2126.9063,126.0781 2126.2813,126.0781 Q2124.9375,126.0781 2124.25,127.1563 Q2123.5625,128.2188 2123.5625,130.3125 Q2123.5625,132.4063 2124.25,133.4844 Q2124.9375,134.5469 2126.2813,134.5469 Q2126.9063,134.5469 2127.5,134.2813 Q2128.0938,134 2128.7188,133.4219 L2128.7188,136.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="2146.25" y="135.156">Monitor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2063.5" x2="2240.5" y1="146.5" y2="146.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2070.5" y="154.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="2082.5" y="162.2589">mu: sync.Mutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2070.5" y="169.4819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="2082.5" y="177.2408">enabled: bool</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2070.5" y="184.4638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="2082.5" y="192.2227">state: map[string]*expvar.Int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2063.5" x2="2240.5" y1="199.4457" y2="199.4457"/><ellipse cx="2073.5" cy="210.4457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="2082.5" y="215.2046">Enabled () bool</text><ellipse cx="2073.5" cy="225.4276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="2082.5" y="230.1865">SetEnabled (enabled bool)</text><ellipse cx="2073.5" cy="240.4094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="2082.5" y="245.1684">Touch (name string)</text><!--MD5=[7de3ec76c7fd8a33a0ea4e6eeda76880]
class platform.DatabaseProvider--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="77.9638" id="platform.DatabaseProvider" style="stroke: #A80036; stroke-width: 1.5;" width="399" x="613.5" y="144.5"/><ellipse cx="760.25" cy="160.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M756.1719,156.2656 L756.1719,154.1094 L763.5625,154.1094 L763.5625,156.2656 L761.0938,156.2656 L761.0938,164.3438 L763.5625,164.3438 L763.5625,166.5 L756.1719,166.5 L756.1719,164.3438 L758.6406,164.3438 L758.6406,156.2656 L756.1719,156.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="97" x="780.75" y="165.156">DatabaseProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="614.5" x2="1011.5" y1="176.5" y2="176.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="614.5" x2="1011.5" y1="184.5" y2="184.5"/><ellipse cx="624.5" cy="195.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="345" x="633.5" y="200.2589">Open: Open (ctx context.Context, names ...string) (*sqlx.DB, error)</text><ellipse cx="624.5" cy="210.4819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="633.5" y="215.2408">Connect: Connect (ctx context.Context, names ...string) (*sqlx.DB, error)</text><!--MD5=[782a8e96be819bf106532df41d80f0d1]
class platform.ErrorResponse--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="62.9819" id="platform.ErrorResponse" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="413.5" y="152"/><ellipse cx="451" cy="168" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M453.9688,173.6406 Q453.3906,173.9375 452.75,174.0781 Q452.1094,174.2344 451.4063,174.2344 Q448.9063,174.2344 447.5781,172.5938 Q446.2656,170.9375 446.2656,167.8125 Q446.2656,164.6875 447.5781,163.0313 Q448.9063,161.375 451.4063,161.375 Q452.1094,161.375 452.75,161.5313 Q453.4063,161.6875 453.9688,161.9844 L453.9688,164.7031 Q453.3438,164.125 452.75,163.8594 Q452.1563,163.5781 451.5313,163.5781 Q450.1875,163.5781 449.5,164.6563 Q448.8125,165.7188 448.8125,167.8125 Q448.8125,169.9063 449.5,170.9844 Q450.1875,172.0469 451.5313,172.0469 Q452.1563,172.0469 452.75,171.7813 Q453.3438,171.5 453.9688,170.9219 L453.9688,173.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="470" y="172.656">ErrorResponse</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414.5" x2="577.5" y1="184" y2="184"/><ellipse cx="424.5" cy="195" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="433.5" y="199.7589">Error: ErrorResponseBody</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414.5" x2="577.5" y1="206.9819" y2="206.9819"/><!--MD5=[5d815c542bfd9967fd2dd1269cefa2b4]
class platform.ErrorResponseBody--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="77.9638" id="platform.ErrorResponseBody" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="595.5" y="399"/><ellipse cx="610.5" cy="415" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M613.4688,420.6406 Q612.8906,420.9375 612.25,421.0781 Q611.6094,421.2344 610.9063,421.2344 Q608.4063,421.2344 607.0781,419.5938 Q605.7656,417.9375 605.7656,414.8125 Q605.7656,411.6875 607.0781,410.0313 Q608.4063,408.375 610.9063,408.375 Q611.6094,408.375 612.25,408.5313 Q612.9063,408.6875 613.4688,408.9844 L613.4688,411.7031 Q612.8438,411.125 612.25,410.8594 Q611.6563,410.5781 611.0313,410.5781 Q609.6875,410.5781 609,411.6563 Q608.3125,412.7188 608.3125,414.8125 Q608.3125,416.9063 609,417.9844 Q609.6875,419.0469 611.0313,419.0469 Q611.6563,419.0469 612.25,418.7813 Q612.8438,418.5 613.4688,417.9219 L613.4688,420.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="624.5" y="419.656">ErrorResponseBody</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="596.5" x2="737.5" y1="431" y2="431"/><ellipse cx="606.5" cy="442" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="615.5" y="446.7589">Code: int</text><ellipse cx="606.5" cy="456.9819" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="615.5" y="461.7408">Message: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="596.5" x2="737.5" y1="468.9638" y2="468.9638"/><!--MD5=[1627f773094eccd22977139fff0e2d35]
class platform.Middleware--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="62.9819" id="platform.Middleware" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="37.5" y="406.5"/><ellipse cx="112.25" cy="422.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M108.1719,418.2656 L108.1719,416.1094 L115.5625,416.1094 L115.5625,418.2656 L113.0938,418.2656 L113.0938,426.3438 L115.5625,426.3438 L115.5625,428.5 L108.1719,428.5 L108.1719,426.3438 L110.6406,426.3438 L110.6406,418.2656 L108.1719,418.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="132.75" y="427.156">Middleware</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="257.5" y1="438.5" y2="438.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="257.5" y1="446.5" y2="446.5"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="45.5" y="454.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="57.5" y="462.2589">type: func(http.Handler) http.Handler</text><!--MD5=[7af7408ac16c8b6615c78c02e6fc903d]
class platform.Module--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="107.9276" id="platform.Module" style="stroke: #A80036; stroke-width: 1.5;" width="267" x="293.5" y="384"/><ellipse cx="402.75" cy="400" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M398.6719,395.7656 L398.6719,393.6094 L406.0625,393.6094 L406.0625,395.7656 L403.5938,395.7656 L403.5938,403.8438 L406.0625,403.8438 L406.0625,406 L398.6719,406 L398.6719,403.8438 L401.1406,403.8438 L401.1406,395.7656 L398.6719,395.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="423.25" y="404.656">Module</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="559.5" y1="416" y2="416"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="559.5" y1="424" y2="424"/><ellipse cx="304.5" cy="435" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="313.5" y="439.7589">Name: Name () string</text><ellipse cx="304.5" cy="449.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="313.5" y="454.7408">Start: Start (context.Context) error</text><ellipse cx="304.5" cy="464.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="313.5" y="469.7227">Stop: Stop (context.Context) error</text><ellipse cx="304.5" cy="479.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="313.5" y="484.7046">Mount: Mount (context.Context, Router) error</text><!--MD5=[358344282dfc8e3880b236ef018a4b77]
class platform.Options--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="92.9457" id="platform.Options" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="1047.5" y="137"/><ellipse cx="1084.1" cy="153" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1087.0688,158.6406 Q1086.4906,158.9375 1085.85,159.0781 Q1085.2094,159.2344 1084.5063,159.2344 Q1082.0063,159.2344 1080.6781,157.5938 Q1079.3656,155.9375 1079.3656,152.8125 Q1079.3656,149.6875 1080.6781,148.0313 Q1082.0063,146.375 1084.5063,146.375 Q1085.2094,146.375 1085.85,146.5313 Q1086.5063,146.6875 1087.0688,146.9844 L1087.0688,149.7031 Q1086.4438,149.125 1085.85,148.8594 Q1085.2563,148.5781 1084.6313,148.5781 Q1083.2875,148.5781 1082.6,149.6563 Q1081.9125,150.7188 1081.9125,152.8125 Q1081.9125,154.9063 1082.6,155.9844 Q1083.2875,157.0469 1084.6313,157.0469 Q1085.2563,157.0469 1085.85,156.7813 Q1086.4438,156.5 1087.0688,155.9219 L1087.0688,158.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="1102.9" y="157.656">Options</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1048.5" x2="1169.5" y1="169" y2="169"/><ellipse cx="1058.5" cy="180" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1067.5" y="184.7589">ServerAddr: string</text><ellipse cx="1058.5" cy="194.9819" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1067.5" y="199.7408">Quiet: bool</text><ellipse cx="1058.5" cy="209.9638" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1067.5" y="214.7227">Modules: []string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1048.5" x2="1169.5" y1="221.9457" y2="221.9457"/><!--MD5=[89a2371b9a67e1b5a991d2e2bed80456]
class platform.Platform--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="182.837" id="platform.Platform" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="1205.5" y="92"/><ellipse cx="1259.75" cy="108" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1255.6719,103.7656 L1255.6719,101.6094 L1263.0625,101.6094 L1263.0625,103.7656 L1260.5938,103.7656 L1260.5938,111.8438 L1263.0625,111.8438 L1263.0625,114 L1255.6719,114 L1255.6719,111.8438 L1258.1406,111.8438 L1258.1406,103.7656 L1255.6719,103.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="1280.25" y="112.656">Platform</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1206.5" x2="1369.5" y1="124" y2="124"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="132"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1225.5" y="139.7589">options: *Options</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="146.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="1225.5" y="154.7408">router: *chi.Mux</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="161.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="1225.5" y="169.7227">server: *http.Server</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="176.9457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1225.5" y="184.7046">listener: net.Listener</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="191.9276"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="1225.5" y="199.6865">context: context.Context</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="206.9094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1225.5" y="214.6684">cancel: context.CancelFunc</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="221.8913"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="1225.5" y="229.6502">once: sync.Once</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="236.8732"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1225.5" y="244.6321">registry: *Registry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1206.5" x2="1369.5" y1="251.8551" y2="251.8551"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1213.5" y="259.8551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="1225.5" y="267.614">stop: func()</text><!--MD5=[4a6a894fdff7f4e5dbd894e3f89ef842]
class platform.Registry--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="227.7827" id="platform.Registry" style="stroke: #A80036; stroke-width: 1.5;" width="340" x="38" y="69.5"/><ellipse cx="181.25" cy="85.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184.2188,91.1406 Q183.6406,91.4375 183,91.5781 Q182.3594,91.7344 181.6563,91.7344 Q179.1563,91.7344 177.8281,90.0938 Q176.5156,88.4375 176.5156,85.3125 Q176.5156,82.1875 177.8281,80.5313 Q179.1563,78.875 181.6563,78.875 Q182.3594,78.875 183,79.0313 Q183.6563,79.1875 184.2188,79.4844 L184.2188,82.2031 Q183.5938,81.625 183,81.3594 Q182.4063,81.0781 181.7813,81.0781 Q180.4375,81.0781 179.75,82.1563 Q179.0625,83.2188 179.0625,85.3125 Q179.0625,87.4063 179.75,88.4844 Q180.4375,89.5469 181.7813,89.5469 Q182.4063,89.5469 183,89.2813 Q183.5938,89 184.2188,88.4219 L184.2188,91.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="201.75" y="90.156">Registry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="377" y1="101.5" y2="101.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="109.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="58" y="117.2589">mu: sync.RWMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="124.4819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="58" y="132.2408">modules: []Module</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="139.4638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="58" y="147.2227">middleware: []Middleware</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="377" y1="154.4457" y2="154.4457"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="162.4457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="58" y="170.2046">cleanups: []func(context.Context)</text><ellipse cx="49" cy="180.4276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="58" y="185.1865">Cleanup (fn func(context.Context))</text><ellipse cx="49" cy="195.4094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="58" y="200.1684">Clone () *Registry</text><ellipse cx="49" cy="210.3913" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="58" y="215.1502">Close (ctx context.Context)</text><ellipse cx="49" cy="225.3732" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="58" y="230.1321">Find (target any) bool</text><ellipse cx="49" cy="240.3551" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="58" y="245.114">Register (m Module)</text><ellipse cx="49" cy="255.337" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="314" x="58" y="260.0959">Start (ctx context.Context, mux Router, opts *Options) error</text><ellipse cx="49" cy="270.3189" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="58" y="275.0778">Stats () int</text><ellipse cx="49" cy="285.3008" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="58" y="290.0597">Use (f Middleware)</text><!--MD5=[03302acdce61aa09c6ac2a47a3ed280c]
class platform.Router--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="62.9819" id="platform.Router" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="773.5" y="406.5"/><ellipse cx="806.5" cy="422.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M809.4688,428.1406 Q808.8906,428.4375 808.25,428.5781 Q807.6094,428.7344 806.9063,428.7344 Q804.4063,428.7344 803.0781,427.0938 Q801.7656,425.4375 801.7656,422.3125 Q801.7656,419.1875 803.0781,417.5313 Q804.4063,415.875 806.9063,415.875 Q807.6094,415.875 808.25,416.0313 Q808.9063,416.1875 809.4688,416.4844 L809.4688,419.2031 Q808.8438,418.625 808.25,418.3594 Q807.6563,418.0781 807.0313,418.0781 Q805.6875,418.0781 805,419.1563 Q804.3125,420.2188 804.3125,422.3125 Q804.3125,424.4063 805,425.4844 Q805.6875,426.5469 807.0313,426.5469 Q807.6563,426.5469 808.25,426.2813 Q808.8438,426 809.4688,425.4219 L809.4688,428.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="37" x="824.5" y="427.156">Router</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="774.5" x2="881.5" y1="438.5" y2="438.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="781.5" y="446.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="793.5" y="454.2589">type: chi.Router</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="774.5" x2="881.5" y1="461.4819" y2="461.4819"/><!--MD5=[add30b93225d231acb95dc49d76c1811]
class platform.UnimplementedModule--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="107.9276" id="platform.UnimplementedModule" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="917.5" y="384"/><ellipse cx="982.75" cy="400" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M978.6719,395.7656 L978.6719,393.6094 L986.0625,393.6094 L986.0625,395.7656 L983.5938,395.7656 L983.5938,403.8438 L986.0625,403.8438 L986.0625,406 L978.6719,406 L978.6719,403.8438 L981.1406,403.8438 L981.1406,395.7656 L978.6719,395.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126" x="1003.25" y="404.656">UnimplementedModule</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="918.5" x2="1181.5" y1="416" y2="416"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="918.5" x2="1181.5" y1="424" y2="424"/><ellipse cx="928.5" cy="435" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="937.5" y="439.7589">NameFn: func() string</text><ellipse cx="928.5" cy="449.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="937.5" y="454.7408">StartFn: func(context.Context) error</text><ellipse cx="928.5" cy="464.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="937.5" y="469.7227">StopFn: func(context.Context) error</text><ellipse cx="928.5" cy="479.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="937.5" y="484.7046">MountFn: func(context.Context, Router) error</text><!--MD5=[f4af7417f58b5f70f2d15d51c36dc1f7]
class cli.App--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="152.8732" id="cli.App" style="stroke: #A80036; stroke-width: 1.5;" width="358" x="2575" y="107"/><ellipse cx="2738.75" cy="123" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2741.7188,128.6406 Q2741.1406,128.9375 2740.5,129.0781 Q2739.8594,129.2344 2739.1563,129.2344 Q2736.6563,129.2344 2735.3281,127.5938 Q2734.0156,125.9375 2734.0156,122.8125 Q2734.0156,119.6875 2735.3281,118.0313 Q2736.6563,116.375 2739.1563,116.375 Q2739.8594,116.375 2740.5,116.5313 Q2741.1563,116.6875 2741.7188,116.9844 L2741.7188,119.7031 Q2741.0938,119.125 2740.5,118.8594 Q2739.9063,118.5781 2739.2813,118.5781 Q2737.9375,118.5781 2737.25,119.6563 Q2736.5625,120.7188 2736.5625,122.8125 Q2736.5625,124.9063 2737.25,125.9844 Q2737.9375,127.0469 2739.2813,127.0469 Q2739.9063,127.0469 2740.5,126.7813 Q2741.0938,126.5 2741.7188,125.9219 L2741.7188,128.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="22" x="2759.25" y="127.656">App</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2576" x2="2932" y1="139" y2="139"/><ellipse cx="2586" cy="150" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="2595" y="154.7589">Name: string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2583" y="161.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="2595" y="169.7408">commands: map[string]CommandInfo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2576" x2="2932" y1="176.9638" y2="176.9638"/><ellipse cx="2586" cy="187.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="332" x="2595" y="192.7227">AddCommand (name,title string, constructor func() *Command)</text><ellipse cx="2586" cy="202.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="2595" y="207.7046">Help ()</text><ellipse cx="2586" cy="217.9276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="2595" y="222.6865">HelpCommand (fs *flag.FlagSet, command *Command)</text><ellipse cx="2586" cy="232.9094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="2595" y="237.6684">Run () error</text><ellipse cx="2586" cy="247.8913" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="2595" y="252.6502">RunWithArgs (args []string) error</text><!--MD5=[4bb6f07e1b6f73751df9cc974fe1b771]
class cli.Command--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="242.7645" id="cli.Command" style="stroke: #A80036; stroke-width: 1.5;" width="241" x="2298.5" y="62"/><ellipse cx="2386.25" cy="78" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2382.1719,73.7656 L2382.1719,71.6094 L2389.5625,71.6094 L2389.5625,73.7656 L2387.0938,73.7656 L2387.0938,81.8438 L2389.5625,81.8438 L2389.5625,84 L2382.1719,84 L2382.1719,81.8438 L2384.6406,81.8438 L2384.6406,73.7656 L2382.1719,73.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="2406.75" y="82.656">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2299.5" x2="2538.5" y1="94" y2="94"/><ellipse cx="2309.5" cy="105" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="2318.5" y="109.7589">Name: string</text><ellipse cx="2309.5" cy="119.9819" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="2318.5" y="124.7408">Name: string</text><ellipse cx="2309.5" cy="134.9638" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="2318.5" y="139.7227">Title: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="2318.5" y="154.7046">interface "cli.CommandInfo" {</text><ellipse cx="2309.5" cy="164.9276" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="2318.5" y="169.6865">Name: string</text><ellipse cx="2309.5" cy="179.9094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="2318.5" y="184.6684">Name: string</text><ellipse cx="2309.5" cy="194.8913" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="2318.5" y="199.6502">Title: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2299.5" x2="2538.5" y1="206.8732" y2="206.8732"/><ellipse cx="2309.5" cy="217.8732" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="2318.5" y="222.6321">Bind: func(*flag.FlagSet)</text><ellipse cx="2309.5" cy="232.8551" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="2318.5" y="237.614">Run: func(context.Context, []string) error</text><ellipse cx="2309.5" cy="247.837" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="2318.5" y="252.5959">New: func() *Command</text><ellipse cx="2309.5" cy="262.8189" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="2318.5" y="267.5778">Bind: func(*flag.FlagSet)</text><ellipse cx="2309.5" cy="277.8008" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="2318.5" y="282.5597">Run: func(context.Context, []string) error</text><ellipse cx="2309.5" cy="292.7827" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="2318.5" y="297.5416">New: func() *Command</text><!--MD5=[27f886c5e866d90d3881cfd1de90a0d5]
class cli.CommandInfo--><rect fill="#FEFECE" filter="url(#f1q790ibzuqdz7)" height="48" id="cli.CommandInfo" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="2698" y="414"/><ellipse cx="2713" cy="430" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2715.9688,435.6406 Q2715.3906,435.9375 2714.75,436.0781 Q2714.1094,436.2344 2713.4063,436.2344 Q2710.9063,436.2344 2709.5781,434.5938 Q2708.2656,432.9375 2708.2656,429.8125 Q2708.2656,426.6875 2709.5781,425.0313 Q2710.9063,423.375 2713.4063,423.375 Q2714.1094,423.375 2714.75,423.5313 Q2715.4063,423.6875 2715.9688,423.9844 L2715.9688,426.7031 Q2715.3438,426.125 2714.75,425.8594 Q2714.1563,425.5781 2713.5313,425.5781 Q2712.1875,425.5781 2711.5,426.6563 Q2710.8125,427.7188 2710.8125,429.8125 Q2710.8125,431.9063 2711.5,432.9844 Q2712.1875,434.0469 2713.5313,434.0469 Q2714.1563,434.0469 2714.75,433.7813 Q2715.3438,433.5 2715.9688,432.9219 L2715.9688,435.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="2727" y="434.656">CommandInfo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2699" x2="2809" y1="446" y2="446"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2699" x2="2809" y1="454" y2="454"/><!--MD5=[2ebeda91e2a6c17c7893f4f2c4d9c560]
link pkg.httpcontext.Value[T any] to pkg.httpcontext.any--><path d="M1955,215.21 C1955,264.66 1955,361.22 1955,408.94 " fill="none" id="pkg.httpcontext.Value[T any]-&gt;pkg.httpcontext.any" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1955,413.95,1959,404.95,1955,408.95,1951,404.95,1955,413.95" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="1956" y="349.897">.Key</text><!--MD5=[18c80c55e6b8c6dbadea28db3d2382e9]
link platform.ErrorResponse to platform.ErrorResponseBody--><path d="M516.8,215.21 C547.18,260.08 603.83,343.72 638.21,394.48 " fill="none" id="platform.ErrorResponse-&gt;platform.ErrorResponseBody" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="641.05,398.68,639.3015,388.9876,638.2404,394.544,632.684,393.483,641.05,398.68" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="608" y="349.897">.Error</text><!--MD5=[e3b860f28c5afe3bc1f819c62c72f835]
link platform.Registry to platform.Module--><path d="M306.29,297.82 C331.01,326.32 356.49,355.71 377.64,380.09 " fill="none" id="platform.Registry-&gt;platform.Module" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="381,383.96,378.1243,374.5403,377.7237,380.183,372.0811,379.7824,381,383.96" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="351" y="349.897">.modules</text><!--MD5=[b9c6f07f2496d5ded784642acf3d07dc]
link platform.Registry to platform.Middleware--><path d="M181.07,297.82 C172.16,335.34 162.87,374.4 156.42,401.56 " fill="none" id="platform.Registry-&gt;platform.Middleware" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="155.25,406.49,161.2217,398.6581,156.4055,401.6254,153.4382,396.8092,155.25,406.49" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="172" y="349.897">.middleware</text><!--MD5=[0c4e1f6d1786ff026c33f0cb8be248f8]
link cli.App to cli.CommandInfo--><path d="M2754,260.26 C2754,310.38 2754,373.21 2754,408.86 " fill="none" id="cli.App-&gt;cli.CommandInfo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2754,413.92,2758,404.92,2754,408.92,2750,404.92,2754,413.92" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="2755" y="349.897">.commands</text><!--MD5=[4dc0a7eadcf9e4d23ec2ea4c41b2507a]
link platform.DatabaseProvider to platform.Options--><!--MD5=[bf48dbb1d6e71312169c5454a878bc25]
link platform.Options to platform.Platform--><!--MD5=[da69b8f63118d314bb6c53ec95cafa94]
link platform.DatabaseProvider to platform.Router--><!--MD5=[b69fa2d9437b1ccdf5c68382e95472b5]
link platform.Router to platform.UnimplementedModule--><!--MD5=[fd565e323d793083405c927b85c9b7bb]
@startuml

class "internal.DatabaseOption" {
  + MaxOpenConns: int
  + MaxIdleConns: int
  + Apply (client *sqlx.DB)
}

interface "internal.DatabaseProvider" {
  - open: func(string, string) (*sqlx.DB, error)
  - mu: sync.Mutex
  - cache: map[string]*sqlx.DB
  - credentials: map[string]string
}

class "pkg.httpcontext.Value[T any]" {
  + Key: any
}

class "pkg.telemetry.Monitor" {
  - mu: sync.Mutex
  - enabled: bool
  - state: map[string]*expvar.Int
  + Enabled () bool
  + SetEnabled (enabled bool)
  + Touch (name string)
}

interface "platform.DatabaseProvider" {
  + Open: Open (ctx context.Context, names ...string) (*sqlx.DB, error)
  + Connect: Connect (ctx context.Context, names ...string) (*sqlx.DB, error)
}

class "platform.ErrorResponse" {
  + Error: ErrorResponseBody
}

class "platform.ErrorResponseBody" {
  + Code: int
  + Message: string
}

interface "platform.Middleware" {
  - type: func(http.Handler) http.Handler
}

interface "platform.Module" {
  + Name: Name () string
  + Start: Start (context.Context) error
  + Stop: Stop (context.Context) error
  + Mount: Mount (context.Context, Router) error
}

class "platform.Options" {
  + ServerAddr: string
  + Quiet: bool
  + Modules: []string
}

interface "platform.Platform" {
  - options: *Options
  - router: *chi.Mux
  - server: *http.Server
  - listener: net.Listener
  - context: context.Context
  - cancel: context.CancelFunc
  - stop: func()
  - once: sync.Once
  - registry: *Registry
}

class "platform.Registry" {
  - mu: sync.RWMutex
  - modules: []Module
  - middleware: []Middleware
  - cleanups: []func(context.Context)
  + Cleanup (fn func(context.Context))
  + Clone () *Registry
  + Close (ctx context.Context)
  + Find (target any) bool
  + Register (m Module)
  + Start (ctx context.Context, mux Router, opts *Options) error
  + Stats () int
  + Use (f Middleware)
}

class "platform.Router" {
  - type: chi.Router
}

interface "platform.UnimplementedModule" {
  + NameFn: func() string
  + StartFn: func(context.Context) error
  + StopFn: func(context.Context) error
  + MountFn: func(context.Context, Router) error
}

class "cli.App" {
  + Name: string
  - commands: map[string]CommandInfo
  + AddCommand (name,title string, constructor func() *Command)
  + Help ()
  + HelpCommand (fs *flag.FlagSet, command *Command)
  + Run () error
  + RunWithArgs (args []string) error
}

interface "cli.Command" {
  + Name: string
  + Bind: func(*flag.FlagSet)
  + Run: func(context.Context, []string) error
  + Name: string
  + Title: string
  + New: func() *Command
interface "cli.CommandInfo" {
  + Name: string
  + Bind: func(*flag.FlagSet)
  + Run: func(context.Context, []string) error
  + Name: string
  + Title: string
  + New: func() *Command
}



"pkg.httpcontext.Value[T any]" - -> "pkg.httpcontext.any" : .Key



"platform.ErrorResponse" - -> "platform.ErrorResponseBody" : .Error






"platform.Registry" - -> "platform.Module" : .modules
"platform.Registry" - -> "platform.Middleware" : .middleware



"cli.App" - -> "cli.CommandInfo" : .commands




@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-125.10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>